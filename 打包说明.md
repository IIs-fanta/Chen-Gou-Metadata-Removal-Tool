# 陈狗元数据去除工具 - 打包说明

## 文件说明

您的项目文件夹包含以下文件：
- `main.py` - 主程序文件
- `logo.ico` - 应用程序图标文件
- `window.ico` - 窗口图标文件
- `requirements.txt` - 依赖包列表
- `build_exe.py` - 打包脚本
- `build.bat` - Windows批处理文件

## 打包步骤

### 方法一：使用批处理文件（推荐）

1. **激活虚拟环境**
   ```bash
   # 如果您使用 conda
   conda activate 您的虚拟环境名称
   
   # 如果您使用 venv
   .\venv\Scripts\activate
   ```

2. **运行批处理文件**
   ```bash
   build.bat
   ```

### 方法二：手动运行打包脚本

1. **激活虚拟环境**

2. **运行打包脚本**
   ```bash
   python build_exe.py
   ```

## 打包配置

打包脚本会自动：
- ✅ 检查并安装 PyInstaller
- ✅ 安装 requirements.txt 中的依赖
- ✅ 使用 `logo.ico` 作为应用程序图标
- ✅ 包含所有图标文件到打包中
- ✅ 生成单个 exe 文件
- ✅ 设置中文应用程序名称

## 输出文件

打包成功后，您会在 `dist` 文件夹中找到：
- `陈狗元数据去除工具.exe` - 可执行文件

## 图标配置

您的应用程序将使用以下图标：
- **桌面图标**: `logo.ico`
- **窗口左上角图标**: `logo.ico`
- **执行按钮图标**: `logo.ico`

## 注意事项

1. **虚拟环境**: 强烈建议在虚拟环境中进行打包
2. **图标文件**: 确保 `logo.ico` 和 `window.ico` 文件存在
3. **依赖包**: 打包脚本会自动安装所需依赖
4. **清理**: 打包完成后可以选择清理临时文件

## 故障排除

### 常见问题

1. **PyInstaller 未安装**
   - 脚本会自动安装，如果失败请手动安装：
   ```bash
   pip install pyinstaller
   ```

2. **图标文件找不到**
   - 确保 `logo.ico` 文件在当前目录中

3. **依赖包安装失败**
   - 检查网络连接
   - 尝试手动安装：
   ```bash
   pip install -r requirements.txt
   ```

4. **打包失败**
   - 检查是否在虚拟环境中
   - 确保所有依赖都已正确安装

## 手动打包命令

如果您想手动执行打包，可以使用以下命令：

```bash
pyinstaller --onefile --windowed --icon=logo.ico --name="陈狗元数据去除工具" --add-data="logo.ico;." --add-data="window.ico;." --hidden-import=PIL._tkinter_finder --hidden-import=piexif main.py
```

## 测试

打包完成后，请测试：
1. 双击 exe 文件是否能正常启动
2. 图标是否正确显示
3. 所有功能是否正常工作 